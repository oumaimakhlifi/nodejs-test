"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.configurationFromString = configurationFromString;
exports.configurationToString = configurationToString;
/**
 * Create configuration from a string created with `configurationToString`.
 */
function configurationFromString(s) {
    try {
        const wire = JSON.parse(s);
        if (wire.version !== 1) {
            // Unknown version
            return {};
        }
        const configuration = {};
        if (wire.precomputed) {
            configuration.precomputed = {
                ...wire.precomputed,
                response: JSON.parse(wire.precomputed.response),
            };
        }
        return configuration;
    }
    catch (_a) {
        return {};
    }
}
/**
 * Serialize configuration to string that can be deserialized with
 * `configurationFromString`. The serialized string format is
 * unspecified.
 */
function configurationToString(configuration) {
    const wire = {
        version: 1,
    };
    if (configuration.precomputed) {
        wire.precomputed = {
            ...configuration.precomputed,
            response: JSON.stringify(configuration.precomputed),
        };
    }
    return JSON.stringify(wire);
}
//# sourceMappingURL=wire.js.map