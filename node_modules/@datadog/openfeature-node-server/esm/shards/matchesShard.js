import { MD5Sharder } from './sharders';
export function matchesShard(shard, subjectKey, customSharder) {
    const sharder = customSharder !== null && customSharder !== void 0 ? customSharder : new MD5Sharder();
    const assignedShard = sharder.getShard(hashKey(shard.salt, subjectKey), shard.totalShards);
    return shard.ranges.some((range) => isInShardRange(assignedShard, range));
}
function isInShardRange(shard, range) {
    return range.start <= shard && shard < range.end;
}
function hashKey(salt, subjectKey) {
    return `${salt}-${subjectKey}`;
}
//# sourceMappingURL=matchesShard.js.map